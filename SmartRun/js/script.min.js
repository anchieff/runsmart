window.addEventListener("DOMContentLoaded",(function(){const e=tns({container:".carousel__slider",items:1,slideBy:"page",autoplay:!1,controls:!1,nav:!1});function t(e){$(e).each((function(e){$(this).on("click",(function(t){t.preventDefault(),$(".catalog-item__content").eq(e).toggleClass("catalog-item__content_active"),$(".catalog-item__list").eq(e).toggleClass("catalog-item__list_active")}))}))}function n(e){$(e).validate({rules:{name:"required",phone:"required",email:{required:!0,email:!0}},messages:{name:"Пожалуйста, введите ваше имя",phone:"Пожалуйста, введите ваш телефон",email:{required:"Пожалуйста, введите вашу почту",email:"Ваша почта должна быть в формате name@domain.com"}}})}var a,o,i,c,l,r;document.querySelector(".slide_prev").addEventListener("click",()=>e.goTo("prev")),document.querySelector(".slide_right").addEventListener("click",()=>e.goTo("next")),$("ul.catalog__tabs").on("click","li:not(.catalog__tab_active)",(function(){$(this).addClass("catalog__tab_active").siblings().removeClass("catalog__tab_active").closest("div.container").find("div.catalog__content").removeClass("catalog__content_active").eq($(this).index()).addClass("catalog__content_active")})),t(".catalog-item__link"),t(".catalog-item__back"),$("[data-modal=consultation]").on("click",(function(){$(".overlay, #consultation").fadeIn()})),$(".modal__close").on("click",(function(){$(".overlay, .modal").fadeOut()})),$(".button_catalog").each((function(e){$(this).on("click",(function(){$("#order .modal__descr").text($(".catalog-item__subtitle").eq(e).text()),$(".overlay, #order").fadeIn()}))})),n("#consultation-form"),n("#consultation form"),n("#order form"),a=jQuery,i=function(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),"function"==typeof e[t]?"paste":"input"}()+".mask",c=navigator.userAgent,l=/iphone/i.test(c),r=/android/i.test(c),a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},a.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each((function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())}))):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(e,t){var n,c,s,u,d;return!e&&this.length>0?a(this[0]).data(a.mask.dataName)():(t=a.extend({placeholder:a.mask.placeholder,completed:null},t),n=a.mask.definitions,c=[],s=d=e.length,u=null,a.each(e.split(""),(function(e,t){"?"==t?(d--,s=e):n[t]?(c.push(RegExp(n[t])),null===u&&(u=c.length-1)):c.push(null)})),this.trigger("unmask").each((function(){function f(e){for(;d>++e&&!c[e];);return e}function m(e,n){var a,o;if(!(0>e)){for(a=e,o=f(n);d>a;a++)if(c[a]){if(!(d>o&&c[a].test(_[o])))break;_[a]=_[o],_[o]=t.placeholder,o=f(o)}g(),v.caret(Math.max(u,e))}}function h(e,n){var a;for(a=e;n>a&&d>a;a++)c[a]&&(_[a]=t.placeholder)}function g(){v.val(_.join(""))}function p(e){var n,a,o=v.val(),i=-1;for(n=0,pos=0;d>n;n++)if(c[n]){for(_[n]=t.placeholder;pos++<o.length;)if(a=o.charAt(pos-1),c[n].test(a)){_[n]=a,i=n;break}if(pos>o.length)break}else _[n]===o.charAt(pos)&&n!==s&&(pos++,i=n);return e?g():s>i+1?(v.val(""),h(0,d)):(g(),v.val(v.val().substring(0,i+1))),s?n:u}var v=a(this),_=a.map(e.split(""),(function(e){return"?"!=e?n[e]?t.placeholder:e:void 0})),k=v.val();v.data(a.mask.dataName,(function(){return a.map(_,(function(e,n){return c[n]&&e!=t.placeholder?e:null})).join("")})),v.attr("readonly")||v.one("unmask",(function(){v.unbind(".mask").removeData(a.mask.dataName)})).bind("focus.mask",(function(){var t;clearTimeout(o),k=v.val(),t=p(),o=setTimeout((function(){g(),t==e.length?v.caret(0,t):v.caret(t)}),10)})).bind("blur.mask",(function(){p(),v.val()!=k&&v.change()})).bind("keydown.mask",(function(e){var t,n,a,o=e.which;8===o||46===o||l&&127===o?(n=(t=v.caret()).begin,0==(a=t.end)-n&&(n=46!==o?function(e){for(;--e>=0&&!c[e];);return e}(n):a=f(n-1),a=46===o?f(a):a),h(n,a),m(n,a-1),e.preventDefault()):27==o&&(v.val(k),v.caret(0,p()),e.preventDefault())})).bind("keypress.mask",(function(e){var n,o,i,l=e.which,s=v.caret();e.ctrlKey||e.altKey||e.metaKey||32>l||l&&(0!=s.end-s.begin&&(h(s.begin,s.end),m(s.begin,s.end-1)),n=f(s.begin-1),d>n&&(o=String.fromCharCode(l),c[n].test(o)&&(function(e){var n,a,o,i;for(n=e,a=t.placeholder;d>n;n++)if(c[n]){if(o=f(n),i=_[n],_[n]=a,!(d>o&&c[o].test(i)))break;a=i}}(n),_[n]=o,g(),i=f(n),r?setTimeout(a.proxy(a.fn.caret,v,i),0):v.caret(i),t.completed&&i>=d&&t.completed.call(v))),e.preventDefault())})).bind(i,(function(){setTimeout((function(){var e=p(!0);v.caret(e),t.completed&&e==v.val().length&&t.completed.call(v)}),0)})),p()})))}}),$("input[name=phone]").mask("+7 (999) 999-99-99"),$(window).scroll((function(){$(this).scrollTop()>1600?$(".pageup").fadeIn():$(".pageup").fadeOut()})),$("a[href^='#']").click((function(){const e=$(this).attr("href");return $("html, body").animate({scrollTop:$(e).offset().top+"px"}),!1}))}));